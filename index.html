<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>GAG Fruit Calculator</title>
  <link href="https://fonts.googleapis.com/css2?family=Pixelify+Sans&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">
    <h1>ğŸ“ GAG Fruit Value Calculator</h1>

    <div class="controls">
      <label>Choose Fruit:</label>
      <select id="fruit">
        <option value="apple">Apple</option>
        <option value="banana">Banana</option>
        <option value="watermelon">Watermelon</option>
      </select>

      <label>Enter Weight (grams):</label>
      <input type="number" id="weight" placeholder="e.g. 100" />

      <label>Select Mutations:</label>
      <div class="mutations" id="mutationContainer"></div>

      <button onclick="calculate()">ğŸŒŸ Calculate Value</button>
      <p id="result"></p>
    </div>
  </div>

  <script>
    const mutations = [
      { name: "Rainbow", multiplier: 50, color: "linear-gradient(to right, #ff00ff, #00ffff)", group: "color" },
      { name: "Gold", multiplier: 20, color: "gold", group: "core" },
      { name: "Shocked", multiplier: 100, color: "#ffe500", group: "energy" },
      { name: "Frozen", multiplier: 10, color: "#7fdfff", group: "cold" },
      { name: "Wet", multiplier: 2, color: "#88ccee", group: "cold" },
      { name: "Chilled", multiplier: 2, color: "#66aacc", group: "cold" },
      { name: "Choc", multiplier: 2, color: "#3a2a20", group: "treat" },
      { name: "Moonlit", multiplier: 2, color: "#bbbaff", group: "night" },
      { name: "Bloodlit", multiplier: 4, color: "crimson", group: "night" },
      { name: "Celestial", multiplier: 120, color: "violet", group: "space" },
      { name: "Disco", multiplier: 125, color: "magenta", group: "party" },
      { name: "Zombified", multiplier: 25, color: "lightgreen", group: "undead" },
      { name: "Plasma", multiplier: 5, color: "#c55bff", group: "energy" },
      { name: "Voidtouched", multiplier: 135, color: "#b671ff", group: "space" },
      { name: "Pollinated", multiplier: 3, color: "gold", group: "nature" },
      { name: "Honeyglazed", multiplier: 5, color: "#ffaa33", group: "nature" },
      { name: "Dawnbound", multiplier: 150, color: "#ffcc88", group: "light" },
      { name: "Heavenly", multiplier: 5, color: "white", group: "light" },
      { name: "Cooked", multiplier: 10, color: "#ff6600", group: "heat" },
      { name: "Burnt", multiplier: 4, color: "#993300", group: "heat" },
      { name: "Molten", multiplier: 25, color: "#ff3300", group: "heat" },
      { name: "Meteoric", multiplier: 125, color: "#4d4dff", group: "space" },
      { name: "Windstruck", multiplier: 2, color: "#aaaaee", group: "weather" },
      { name: "Alienlike", multiplier: 100, color: "#66ffcc", group: "space" },
      { name: "Sundried", multiplier: 85, color: "#cc9900", group: "nature" },
      { name: "Verdant", multiplier: 4, color: "#66cc33", group: "nature" },
      { name: "Paradisal", multiplier: 100, color: "#66ff66", group: "nature" },
      { name: "Twisted", multiplier: 5, color: "#777", group: "undead" },
      { name: "Galactic", multiplier: 120, color: "#9966ff", group: "space" },
      { name: "Aurora", multiplier: 90, color: "#66ccff", group: "space" },
      { name: "Cloudtouched", multiplier: 5, color: "#ccffff", group: "weather" },
      { name: "Drenched", multiplier: 5, color: "#446688", group: "cold" },
      { name: "Fried", multiplier: 8, color: "#ffbb66", group: "heat" },
      { name: "Amber", multiplier: 10, color: "#ffaa44", group: "ancient" },
      { name: "Oldamber", multiplier: 20, color: "#cc6600", group: "ancient" },
      { name: "Ancientamber", multiplier: 50, color: "#ffa500", group: "ancient" },
      { name: "Sandy", multiplier: 3, color: "#e0d4a3", group: "earth" },
      { name: "Clay", multiplier: 5, color: "#cfa77c", group: "earth" },
      { name: "Ceramic", multiplier: 30, color: "#e0d4c1", group: "earth" },
      { name: "Friendbound", multiplier: 70, color: "#ff66a3", group: "emotion" },
      { name: "Tempestous", multiplier: 12, color: "#88ccff", group: "weather" },
      { name: "Infected", multiplier: 75, color: "#66ff33", group: "undead" },
      { name: "Tranquil", multiplier: 20, color: "#aaffcc", group: "emotion" },
      { name: "Chakra", multiplier: 8, color: "#cc66ff", group: "energy" },
      { name: "Toxic", multiplier: 12, color: "#00ff00", group: "undead" },
      { name: "Radioactive", multiplier: 80, color: "lime", group: "undead" },
    ];

    const incompatibleGroups = {
      cold: ["cold"],
      heat: ["heat"],
      space: ["space"],
      undead: ["undead"]
    };

    const fruitBase = {
      apple: 0.015,
      banana: 0.02,
      watermelon: 0.03
    };

    const selected = new Set();

    function createButtons() {
      const container = document.getElementById("mutationContainer");
      mutations.forEach((m, i) => {
        const btn = document.createElement("button");
        btn.className = "mutation-btn";
        btn.innerText = `${m.name} (${m.multiplier}x)`;
        btn.style.borderColor = m.color;
        btn.dataset.name = m.name;
        btn.onclick = () => toggleMutation(m.name);
        container.appendChild(btn);
      });
    }

    function toggleMutation(name) {
      const mutation = mutations.find(m => m.name === name);
      const btn = [...document.querySelectorAll(".mutation-btn")].find(b => b.dataset.name === name);

      if (selected.has(name)) {
        selected.delete(name);
        btn.classList.remove("active");
        enableAllCompatible();
      } else {
        selected.add(name);
        btn.classList.add("active");
        disableIncompatible(mutation.group);
      }
    }

    function disableIncompatible(group) {
      const incompatible = incompatibleGroups[group] || [];
      document.querySelectorAll(".mutation-btn").forEach(btn => {
        const m = mutations.find(m => m.name === btn.dataset.name);
        if (!selected.has(m.name) && incompatible.includes(m.group)) {
          btn.disabled = true;
          btn.classList.add("disabled");
        }
      });
    }

    function enableAllCompatible() {
      document.querySelectorAll(".mutation-btn").forEach(btn => {
        btn.disabled = false;
        btn.classList.remove("disabled");
      });
    }

    function calculate() {
      const fruit = document.getElementById("fruit").value;
      const weight = parseFloat(document.getElementById("weight").value);
      if (isNaN(weight)) return alert("Enter valid weight!");

      let multiplier = 1;
      selected.forEach(name => {
        const m = mutations.find(m => m.name === name);
        multiplier *= m.multiplier;
      });

      const value = (fruitBase[fruit] * weight * multiplier).toFixed(2);
      document.getElementById("result").innerText = `ğŸ‡ Fruit Value: $${value}`;
    }

    createButtons();
  </script>
</body>
</html>
